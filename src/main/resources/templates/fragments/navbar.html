<nav id="sidebar" class="sidebar js-sidebar" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <div class="sidebar-content js-simplebar">
        <a class="sidebar-brand" th:href="@{/}">
            <span class="align-middle">Steel Storage</span>
        </a>

        <ul class="sidebar-nav">
            <li class="sidebar-header">
                Pages
            </li>

            <li class="sidebar-item active">
                <a class="sidebar-link" th:href="@{/dashboard}">
                    <i class="align-middle" data-feather="sliders"></i> <span class="align-middle"
                                                                              th:text="#{nav_bar_dashboard}"></span>
                </a>
            </li>

            <li class="sidebar-item">
                <a class="sidebar-link" th:href="@{/dashboard}">
                    <i class="align-middle" data-feather="user"></i>
                    <span class="align-middle"
                          th:text="#{nav_bar_profile}">Profile</span>
                </a>
            </li>

            <li sec:authorize="!isAuthenticated()"
                class="sidebar-item">
                <a class="sidebar-link" th:href="@{/sign_in}">
                    <i class="align-middle" data-feather="log-in"></i> <span class="align-middle">Sign In</span>
                </a>
            </li>

            <li class="sidebar-header">
                Work
            </li>
            <li class="sidebar-item">
                <a class="sidebar-link"
                   th:href="@{/earnings}">
                    <i class="align-middle"
                       data-feather="book"></i>
                    <span class="align-middle"
                          th:text="#{nav_bar_earnings}">Earnings</span>
                </a>
            </li>

            <li class="sidebar-header">
                Steel
            </li>
            <li class="sidebar-item">
                <a class="sidebar-link"
                   th:href="@{/add_steel}">
                    <i class="align-middle"
                       data-feather="book"></i>
                    <span class="align-middle"
                          th:text="#{nav_bar_add_steel}"></span>
                </a>
            </li>

            <li class="sidebar-header">
                Machine
            </li>

            <!--            TEST -->
            <li class="sidebar-header">
                Admin
            </li>
            <li sec:authorize="isAuthenticated()"
                class="sidebar-item">
                <a class="sidebar-link"
                   th:href="@{/sign_up}">
                    <i class="align-middle"
                       data-feather="user-plus"></i>
                    <span class="align-middle"
                          th:text="#{nav_bar_register}">Sign Up</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a class="sidebar-link" th:href="@{/dashboard}">
                    <i class="align-middle" data-feather="user"></i>
                    <span class="align-middle"
                          th:text="#{profile_manage_users}"></span>
                </a>
            </li>

            <li class="sidebar-item">
                <a class="sidebar-link"
                   th:href="@{/add_machine}">
                    <i class="align-middle"
                       data-feather="book"></i>
                    <span class="align-middle"
                          th:text="#{nav_bar_add_machine}"></span>
                </a>
            </li>

            <li class="sidebar-item">
                <a class="sidebar-link"
                   th:href="@{/add_machine}">
                    <i class="align-middle"
                       data-feather="book"></i>
                    <span class="align-middle"
                          th:text="#{nav_bar_edit_machine}"></span>
                </a>
            </li>

            <li class="sidebar-item">
                <a class="sidebar-link"
                   th:href="@{/add_machine}">
                    <i class="align-middle"
                       data-feather="book"></i>
                    <span class="align-middle"
                          th:text="#{nav_bar_revision_steel}"></span>
                </a>
            </li>

            <!--            TEST END-->
            <li sec:authorize="isAuthenticated()"
                class="sidebar-header">
                LOGOUT
            </li>
            <li sec:authorize="isAuthenticated()"
                class="sidebar-item">
                <a href="#" class="sidebar-link"
                   onclick="document.getElementById('logout-form').submit(); return false;">
                    <i class="align-middle" data-feather="log-out"></i>
                    <span class="align-middle">LOGOUT</span>
                </a>
                <form id="logout-form" th:method="POST"
                      th:action="@{/users/logout}"
                      style="display: none;">
                    <input type="submit">
                </form>
            </li>
            <li class="sidebar-header">
                <form th:method="GET">
                    <label class="text-white"
                           for="lang">Language</label>
                    <select id="lang"
                            name="lang"
                            onchange="this.form.submit()">
                        <option value="en" th:selected="${#locale.toString() == 'en'}">English</option>
                        <option value="bg" th:selected="${#locale.toString() == 'bg'}">Български</option>
                    </select>
                </form>
            </li>
        </ul>

        <div sec:authorize="isAuthenticated()"
             class="sidebar-cta">
            <div class="sidebar-cta-content">
                <strong class="d-inline-block mb-2">Upgrade to Pro</strong>
                <div class="mb-3 text-sm">
                    Are you looking for more components? Check out our premium version.
                </div>
                <div class="d-grid">
                    <a href="upgrade-to-pro.html" class="btn btn-primary">Upgrade to Pro</a>
                </div>
            </div>
        </div>

    </div>
</nav>